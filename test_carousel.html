<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>è¼ªæ’­åœ–æ¸¬è©¦</title>
    <style>
        body {
            margin: 0;
            padding: 20px;
            font-family: Arial, sans-serif;
            background: #f5f5f5;
        }
        
        .test-info {
            background: #fff;
            padding: 20px;
            margin-bottom: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }
        
        .test-info h2 {
            color: #dc3545;
            margin-top: 0;
        }
        
        .carousel-container {
            position: relative;
            width: 100%;
            max-width: 800px;
            height: 400px;
            margin: 0 auto;
            background: #e0e0e0;
            border-radius: 8px;
            overflow: hidden;
        }
        
        .carousel-image {
            width: 100%;
            height: 100%;
            object-fit: cover;
            position: absolute;
            top: 0;
            left: 0;
            transition: opacity 0.5s ease-in-out;
        }
        
        #carousel-image {
            opacity: 1;
            z-index: 2;
        }
        
        .carousel-overlay {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            background: linear-gradient(transparent, rgba(0,0,0,0.7));
            padding: 20px;
            color: white;
            z-index: 10;
        }
        
        .carousel-title {
            font-size: 18px;
            font-weight: bold;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.9);
            margin-bottom: 10px;
        }
        
        .carousel-dots {
            display: flex;
            gap: 8px;
            justify-content: center;
        }
        
        .carousel-dot {
            width: 10px;
            height: 10px;
            border-radius: 50%;
            background-color: rgba(255,255,255,0.5);
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .carousel-dot.active {
            background-color: white;
            transform: scale(1.3);
        }
        
        .test-image {
            max-width: 600px;
            margin: 20px auto;
            display: block;
            border: 2px solid #ccc;
            border-radius: 8px;
            cursor: pointer;
        }
        
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0,0,0,0.8);
            z-index: 1000;
            justify-content: center;
            align-items: center;
        }
        
        .modal.visible {
            display: flex;
        }
        
        .modal-content {
            background: white;
            padding: 40px;
            border-radius: 12px;
            text-align: center;
            max-width: 600px;
        }
        
        .modal-close {
            position: absolute;
            top: 20px;
            right: 20px;
            width: 40px;
            height: 40px;
            background: #f44336;
            color: white;
            border: none;
            border-radius: 50%;
            font-size: 24px;
            cursor: pointer;
        }
        
        .status {
            background: #4CAF50;
            color: white;
            padding: 10px;
            border-radius: 4px;
            margin: 10px 0;
        }
    </style>
</head>
<body>
    <div class="test-info">
        <h2>ğŸ§ª è¼ªæ’­åœ–èˆ‡æ¨¡æ…‹çª—å£æ¸¬è©¦é é¢</h2>
        <p><strong>æ¸¬è©¦æ™‚é–“ï¼š</strong><span id="test-time"></span></p>
        <div id="status-messages"></div>
    </div>
    
    <div class="carousel-container">
        <img id="carousel-image" 
             src="./images/award/season4/IMG_9918.webp" 
             alt="è¼ªæ’­åœ–" 
             class="carousel-image">
        <div class="carousel-overlay">
            <div class="carousel-title">é›£æ‰¾çš„è¯è³½ç¬¬å››å±†é ’çå…¸ç¦®</div>
            <div class="carousel-dots" id="carousel-dots"></div>
        </div>
    </div>
    
    <div class="test-info" style="margin-top: 20px;">
        <h3>æ¸¬è©¦ Playoffs æŒ‰éˆ•</h3>
        <img src="./images/playoffs.png" 
             alt="Playoffs" 
             class="test-image"
             onclick="openTestModal()">
        <p style="text-align: center; color: #666;">é»æ“Šåœ–ç‰‡æ¸¬è©¦æ¨¡æ…‹çª—å£</p>
    </div>
    
    <div id="testModal" class="modal">
        <button class="modal-close" onclick="closeTestModal()">âœ•</button>
        <div class="modal-content">
            <h2>âœ… æ¨¡æ…‹çª—å£æ­£å¸¸é‹ä½œï¼</h2>
            <p>å¦‚æœä½ çœ‹åˆ°é€™å€‹è¨Šæ¯ï¼Œè¡¨ç¤º onclick å‡½æ•¸æ­£å¸¸å·¥ä½œã€‚</p>
            <button onclick="closeTestModal()" style="padding: 10px 20px; font-size: 16px; cursor: pointer;">é—œé–‰</button>
        </div>
    </div>
    
    <script>
        // é¡¯ç¤ºæ¸¬è©¦æ™‚é–“
        document.getElementById('test-time').textContent = new Date().toLocaleString('zh-TW');
        
        function addStatus(message, isSuccess = true) {
            const statusDiv = document.getElementById('status-messages');
            const status = document.createElement('div');
            status.className = 'status';
            status.style.background = isSuccess ? '#4CAF50' : '#f44336';
            status.textContent = message;
            statusDiv.appendChild(status);
        }
        
        // æ¸¬è©¦æ¨¡æ…‹çª—å£å‡½æ•¸ï¼ˆå…¨å±€ï¼‰
        window.openTestModal = function() {
            console.log('âœ… openTestModal è¢«èª¿ç”¨');
            addStatus('âœ… æ¨¡æ…‹çª—å£å‡½æ•¸æ­£å¸¸å·¥ä½œï¼');
            document.getElementById('testModal').classList.add('visible');
        };
        
        window.closeTestModal = function() {
            console.log('âœ… closeTestModal è¢«èª¿ç”¨');
            document.getElementById('testModal').classList.remove('visible');
        };
        
        // è¼ªæ’­åœ–æ¸¬è©¦
        (function initCarousel() {
            const images = [
                './images/award/season4/IMG_9918.webp',
                './images/award/season4/IMG_9919.webp',
                './images/award/season4/IMG_9920.webp',
                './images/award/season4/IMG_9921.webp',
                './images/award/season4/IMG_9922.webp',
                './images/award/season4/IMG_9923.webp'
            ];
            
            let currentIndex = 0;
            let isTransitioning = false;
            const carouselImage = document.getElementById('carousel-image');
            const carouselDots = document.getElementById('carousel-dots');
            
            if (!carouselImage) {
                addStatus('âŒ æ‰¾ä¸åˆ°è¼ªæ’­åœ–å…ƒç´ ', false);
                return;
            }
            
            addStatus('âœ… è¼ªæ’­åœ–å…ƒç´ å·²æ‰¾åˆ°');
            
            // å‰µå»ºåœ“é»
            if (carouselDots) {
                carouselDots.innerHTML = images.map((_, i) => 
                    `<div class="carousel-dot${i === 0 ? ' active' : ''}" data-index="${i}"></div>`
                ).join('');
                
                carouselDots.querySelectorAll('.carousel-dot').forEach((dot, i) => {
                    dot.addEventListener('click', () => goToSlide(i));
                });
                
                addStatus('âœ… åœ“é»å·²å‰µå»ºï¼ˆ6 å€‹ï¼‰');
            }
            
            function goToSlide(index) {
                if (index === currentIndex || isTransitioning) return;
                
                isTransitioning = true;
                currentIndex = index;
                
                console.log(`åˆ‡æ›åˆ°ç¬¬ ${index + 1} å¼µåœ–ç‰‡`);
                
                carouselImage.style.opacity = '0';
                
                setTimeout(() => {
                    carouselImage.src = images[index];
                    carouselImage.style.opacity = '1';
                    updateDots();
                    isTransitioning = false;
                    addStatus(`âœ… å·²åˆ‡æ›åˆ°ç¬¬ ${index + 1} å¼µåœ–ç‰‡`);
                }, 500);
            }
            
            function updateDots() {
                if (!carouselDots) return;
                carouselDots.querySelectorAll('.carousel-dot').forEach((dot, i) => {
                    dot.classList.toggle('active', i === currentIndex);
                });
            }
            
            function nextSlide() {
                const nextIndex = (currentIndex + 1) % images.length;
                goToSlide(nextIndex);
            }
            
            let interval;
            function startAutoPlay() {
                if (interval) clearInterval(interval);
                interval = setInterval(nextSlide, 5000);
                addStatus('âœ… è‡ªå‹•æ’­æ”¾å·²å•Ÿå‹•ï¼ˆæ¯ 5 ç§’åˆ‡æ›ï¼‰');
            }
            
            startAutoPlay();
            
            console.log('âœ… è¼ªæ’­åœ–åˆå§‹åŒ–å®Œæˆ');
            addStatus('âœ… è¼ªæ’­åœ–åˆå§‹åŒ–å®Œæˆ');
        })();
        
        // æ¸¬è©¦å…¨å±€å‡½æ•¸æ˜¯å¦å¯ç”¨
        setTimeout(() => {
            if (typeof openTestModal === 'function') {
                addStatus('âœ… openTestModal å‡½æ•¸å·²æ­£ç¢ºè¨»å†Šåˆ°å…¨å±€');
            } else {
                addStatus('âŒ openTestModal å‡½æ•¸æœªæ‰¾åˆ°', false);
            }
            
            if (typeof closeTestModal === 'function') {
                addStatus('âœ… closeTestModal å‡½æ•¸å·²æ­£ç¢ºè¨»å†Šåˆ°å…¨å±€');
            } else {
                addStatus('âŒ closeTestModal å‡½æ•¸æœªæ‰¾åˆ°', false);
            }
        }, 100);
    </script>
</body>
</html>

