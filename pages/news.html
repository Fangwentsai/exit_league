<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="新北市永和區的「難找的聯賽」是一群飛鏢愛好者自嗨創辦的比賽，名字就透露了我們的風格——不正經但很熱血！這裡沒有大牌明星，只有一堆熱愛飛鏢的普通人，打比賽只是藉口，主要是尬聊、喝酒互弄、順便丟丟鏢。每週比賽一場，打得好壞無所謂，開心才是王道！如果你也想加入這種佛系比賽，歡迎來找我們（雖然很難找）。">
    <meta name="keyword" content="新北市永和區, 鳳凰飛鏢, 自辦聯賽,  難找的聯賽, 飛鏢聯賽, 飛鏢比賽, 飛鏢愛好者, 自嗨比賽, 尬聊, 喝酒互弄, 丟鏢">
    
<!-- Monetag廣告代碼 -->
    <script>
        // 只在非本地環境中加載廣告
        if (!window.location.hostname.includes("localhost") && !window.location.hostname.includes("127.0.0.1")) {
            const script = document.createElement("script");
            script.src = "https://fpyf8.com/88/tag.min.js";
            script.setAttribute("data-zone", "148281");
            script.setAttribute("async", "");
            script.setAttribute("data-cfasync", "false");
            document.head.appendChild(script);
        }
    </script>
    
    <!-- 服務工作者註冊 -->
    <script>
        if ('serviceWorker' in navigator) {
            navigator.serviceWorker.register('/sw.js')
            .then(function(registration) {
                console.log('ServiceWorker 註冊成功: ', registration.scope);
            }).catch(function(error) {
                console.log('ServiceWorker 註冊失敗: ', error);
            });
        }
    </script>
    
    <link rel="stylesheet" href="../styles/news.css">
    <style>
        /* 加載指示器樣式 */
        .loading-indicator {
            text-align: center;
            padding: 20px;
            color: #666;
            font-style: italic;
            background-color: #f9f9f9;
            border-radius: 8px;
            margin: 10px 0;
            position: relative;
        }
        
        .loading-indicator:after {
            content: "...";
            position: absolute;
            overflow: hidden;
            display: inline-block;
            vertical-align: bottom;
            animation: ellipsis 2s infinite;
            width: 0px;
        }
        
        @keyframes ellipsis {
            from {
                width: 0px;
            }
            to {
                width: 20px;
            }
        }
        
        /* 模態窗口樣式 */
        .match-modal {
            display: flex;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: rgba(0, 0, 0, 0.7);
            z-index: 1000;
            justify-content: center;
            align-items: center;
            opacity: 0;
            visibility: hidden;
            transition: opacity 0.3s ease, visibility 0.3s ease;
        }
        
        .match-modal.visible {
            opacity: 1;
            visibility: visible;
        }
        
        .match-modal-content {
            position: relative;
            width: 90%;
            max-width: 1024px;
            height: 90vh;
            background-color: #fff;
            border-radius: 8px;
            box-shadow: 0 0 20px rgba(0, 0, 0, 0.3);
            overflow: hidden;
        }
        
        .modal-close {
            position: absolute;
            top: 10px;
            right: 10px;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            background-color: #f44336;
            color: white;
            font-size: 20px;
            border: none;
            cursor: pointer;
            z-index: 10;
            display: flex;
            justify-content: center;
            align-items: center;
        }
        
        .match-iframe {
            width: 100%;
            height: 100%;
            border: none;
        }
    </style>
</head>
<body>
    <div class="container">
        
        <!-- 近期比賽區塊 (置頂) -->
        <div class="upcoming-matches">
            <h2 class="section-title">上週戰況</h2>
            <div id="lastWeekMatchesContent" class="matches-content">
                <div class="loading-indicator">數據加載中，請稍候...</div>
            </div>
        </div>

        <!-- 近期比賽區塊 (置頂) -->
        <div class="upcoming-matches">            
            <h2 class="section-title">近期比賽</h2>
            <div id="upcomingMatchesContent" class="matches-content">
                <div class="loading-indicator">數據加載中，請稍候...</div>
            </div>
        </div>
        
        <!-- 排行榜區塊 -->
        <div class="rankings">
            <div class="ranking-section">
                <h2 class="section-title">團隊總分排行👑</h2>
                <table class="ranking-table">
                    <tr>
                        <th>排名</th>
                        <th>隊名</th>
                        <th>總分</th>
                    </tr>
                    <tr style="font-weight: bold;">
                        <td>1</td>
                        <td>Vivi朝酒晚舞</td>
                        <td>141</td>
                    </tr>
                    <tr>
                        <td>2</td>
                        <td>酒空組</td>
                        <td>128</td>
                    </tr>
                    <tr>
                        <td>3</td>
                        <td>Jack</td>
                        <td>121</td>
                    </tr>
                    <tr>
                        <td>4</td>
                        <td>海盜揪硬</td>
                        <td>116</td>
                    </tr>
                    <tr>
                        <td>5</td>
                        <td>人生揪難</td>
                        <td>100</td>
                    </tr>
                    <tr>
                        <td>6</td>
                        <td>一鏢開天門</td>
                        <td>91</td>
                    </tr>
                    <tr>
                        <td>7</td>
                        <td>逃生入口A</td>
                        <td>85</td>
                    </tr>
                    <tr>
                        <td>8</td>
                        <td>逃生入口C</td>
                        <td>81</td>
                    </tr>
                </table>
            </div>

            <div class="ranking-section">
                <h2 class="section-title">個人勝場排行👑</h2>
                <table class="ranking-table">
                    <tr>
                        <th>隊名</th>
                        <th>姓名</th>
                        <th>勝場數</th>
                    </tr>
                    <tr>
                        <td>酒空組</td>
                        <td>阿堯</td>
                        <td>32</td>
                    </tr>
                    <tr>
                        <td>一鏢開天門</td>
                        <td>飛</td>
                        <td>24</td>
                    </tr>
                    <tr>
                        <td>酒空組</td>
                        <td>瘦子</td>
                        <td>24</td>
                    </tr>
                    <tr>
                        <td>Jack</td>
                        <td>Stan</td>
                        <td>24</td>
                    </tr>
                    <tr>
                        <td>Vivi朝酒晚舞</td>
                        <td>猴子</td>
                        <td>23</td>
                    </tr>
                </table>
            </div>
            
            <div class="ranking-section">
                <h2 class="section-title">地獄倒霉鬼💀</h2>
                <table class="ranking-table">
                    <tr>
                        <th>隊名</th>
                        <th>姓名</th>
                        <th>先攻機率</th>
                    </tr>
                    <tr>
                        <td>逃生入口A</td>
                        <td>加成</td>
                        <td>21.43% (14-3)</td>
                    </tr>
                    <tr>
                        <td>逃生入口A</td>
                        <td>健龍</td>
                        <td>23.08% (13-3)</td>
                    </tr>
                    <tr>
                        <td>人生揪難</td>
                        <td>阿肥</td>
                        <td>28.57% (14-4)</td>
                    </tr>
                    <tr>
                        <td>逃生入口A</td>
                        <td>Terry</td>
                        <td>32% (25-8)</td>
                    </tr>
                    <tr>
                        <td>海盜揪硬</td>
                        <td>船長</td>
                        <td>33.33% (27-9)</td>
                    </tr>
                </table>
            </div>
        </div>
        <!-- 新聞區塊 -->
        <div class="news-content" id="newsContent">

              <!-- 添加最新消息 -->
              <div class="news-item">
                <div class="news-date">2025/5/14</div>
                <div class="news-title">5/14排行榜更新(AI生成)</div>
                <div class="news-text">排行榜再度更新！Vivi朝酒晚舞以驚人的141分繼續穩固第一寶座，酒空組強勢崛起至第二名達128分，Jack隊以121分位居第三，海盜揪硬以116分排名第四。人生揪難突破百分大關達到100分，首次進入前五。個人勝場方面，酒空組阿堯持續擴大領先優勢達到32場勝利，一鏢開天門飛、酒空組瘦子與Jack的Stan三人並列第二名各24場勝利，形成激烈競爭。地獄倒霉鬼榜單新增了人生揪難阿肥，僅28.57%的先攻率讓他苦不堪言，而逃生入口A的加成與健龍繼續蝸居榜首，先攻機率仍低於25%，真是命運多舛！更驚人的是，即使Terry和船長的先攻率有所上升，仍然無法擺脫倒霉鬼的命運，顯示本季聯賽運氣的重要性。</div>
              </div>

              <div class="news-item">
                <div class="news-date">2025/5/7</div>
                <div class="news-title">5/7排行榜更新(AI生成)</div>
                <div class="news-text">排行榜已更新！Vivi朝酒晚舞以117分繼續領先，海盜揪硬以105分穩居第二，酒空組以103分排名第三，Jack以96分位居第四。個人勝場榜單上，酒空組阿堯以27場勝利遙遙領先，一鏢開天門飛以20場位居第二，Jack的Stan和Vivi朝酒晚舞的猴子各19場並列第三。地獄倒霉鬼榜單上，逃生入口A的加成以慘淡的21.43%先攻率成為最大受害者，健龍同樣遭遇噩運僅獲得23.08%先攻機會，Terry更是連續21場比賽只獲得6次先攻機會。Lucas也難逃厄運，17次出場只有5次先攻。就連海盜揪硬的船長也深陷地獄，23場比賽中只有7次先攻機會，慘遭對手蹂躪。</div>
              </div>

              <div class="news-item">
                <div class="news-date">2025/4/30</div>
                <div class="news-title">4/30排行榜更新(AI生成)</div>
                <div class="news-text">排行榜已更新！Vivi朝酒晚舞以102分遙遙領先成為冠軍，Jack隊與酒空組並列第三名（77分），阿堯保持個人勝場王寶座達到21場，而逃生入口A的加成以21.43%成為新一屆地獄倒霉鬼王者！</div>
              </div>

              <div class="news-item">
                <div class="news-date">2025/4/23</div>
                <div class="news-title">排行榜更新(AI生成)</div>
                <div class="news-text">難找的聯賽排行榜已更新！恭喜酒空組阿堯登上個人勝場排行榜首位，同時逃生入口A的健龍成為新的地獄倒霉鬼王者，先攻機率僅10%！</div>
              </div>

              <!-- 原有的新聞 -->
              <div class="news-item">
                <div class="news-date">2025/4/16</div>
                <div class="news-title">網頁改版</div>
                <div class="news-text">難找的聯賽網頁2.0beta版先上線一下，賽程的鏈結還是壞的我之後再來修掰噗</div>
            </div>

            <div class="news-item">
                <div class="news-date">2024/11/5</div>
                <div class="news-title">聯賽開始</div>
                <div class="news-text">難找的聯賽第三届正式開始！</div>
            </div>
            <!-- 阿淦幣新聞 -->
            <div class="news-item">
                <div class="news-date">2024/10/15</div>
                <div class="news-title">阿淦幣即日起開始發售</div>
                <div class="news-text">
                    <p>第二屆阿淦因其優異的手氣榮獲地獄倒霉鬼殊榮，即日起凡於於比賽店家持100元阿淦幣消費即可換取一杯shot。</p>
                    <!--<img src="../images/agan.png" alt="阿淦幣" class="news-image">-->
                </div>
            </div>
        </div>
    </div>

    <div id="gameModal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <iframe id="gameFrame" frameborder="0"></iframe>
        </div>
    </div>
    
    <!-- 添加以下腳本，以確保模態窗口功能正常工作 -->
    <script>
        // 顯示比賽詳情
        function showMatchDetails(gameUrl) {
            console.log('嘗試顯示比賽詳情:', gameUrl);
            
            // 如果已經存在模態框，先移除
            const existingModal = document.querySelector('.match-modal');
            if (existingModal) {
                document.body.removeChild(existingModal);
            }
            
            // 創建模態框容器
            const modal = document.createElement('div');
            modal.className = 'match-modal';
            
            // 創建模態框內容
            const modalContent = document.createElement('div');
            modalContent.className = 'match-modal-content';
            
            // 添加關閉按鈕
            const closeButton = document.createElement('button');
            closeButton.className = 'modal-close';
            closeButton.innerHTML = '&times;';
            closeButton.addEventListener('click', function() {
                closeMatchModal(modal);
            });
            
            // 創建iframe來加載比賽結果頁面
            const iframe = document.createElement('iframe');
            iframe.className = 'match-iframe';
            iframe.src = gameUrl;
            
            // 組裝模態框
            modalContent.appendChild(closeButton);
            modalContent.appendChild(iframe);
            modal.appendChild(modalContent);
            
            // 添加到頁面
            document.body.appendChild(modal);
            
            // 使用setTimeout讓DOM有時間渲染，然後再添加顯示類
            setTimeout(() => {
                modal.classList.add('visible');
            }, 10);
            
            // 添加點擊模態框背景關閉的功能
            modal.addEventListener('click', function(e) {
                if (e.target === modal) {
                    closeMatchModal(modal);
                }
            });
            
            // 添加ESC鍵關閉功能
            const handleKeyDown = function(e) {
                if (e.key === 'Escape') {
                    if (document.body.contains(modal)) {
                        closeMatchModal(modal);
                    }
                    document.removeEventListener('keydown', handleKeyDown);
                }
            };
            document.addEventListener('keydown', handleKeyDown);
        }

        // 關閉模態框
        function closeMatchModal(modal) {
            modal.classList.remove('visible');
            
            // 等待動畫完成後再移除元素
            setTimeout(() => {
                if (document.body.contains(modal)) {
                    document.body.removeChild(modal);
                }
            }, 300);
        }
    </script>
</body>
</html>





