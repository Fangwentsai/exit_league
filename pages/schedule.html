<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <link rel="stylesheet" href="../styles/schedule.css">
    <title>第三屆賽程 | 難找的聯賽</title>
    <!-- Google AdSense -->
     crossorigin="anonymous"></script>
    <!-- 移除有问题的广告脚本，使用简化版 -->
    <script>
        console.log('Ad script loaded');
        // 简化的广告初始化脚本
        window.adInitialized = true;
    </script>
    <!-- 明確指定只加載 s3 的數據 -->
    <script>
        const seasonOverride = 's3';
        console.log('設置 seasonOverride =', seasonOverride);
    </script>
    <style>
        /* 移动端优化内联样式 */
        @media screen and (max-width: 480px) {
            .content-wrapper {
                overflow-x: auto;
                width: 100%;
                -webkit-overflow-scrolling: touch;
            }
        }
    </style>
<!-- Monetag廣告代碼 -->
    <script>
        // 只在非本地環境中加載廣告
        if (!window.location.hostname.includes("localhost") && !window.location.hostname.includes("127.0.0.1")) {
            const script = document.createElement("script");
            script.src = "https://fpyf8.com/88/tag.min.js";
            script.setAttribute("data-zone", "148281");
            script.setAttribute("async", "");
            script.setAttribute("data-cfasync", "false");
            document.head.appendChild(script);
        }
    </script>
</head>
<body>
    <!-- 加入 banner 圖片 -->
    <div class="banner">
        <img src="../images/banner.png" alt="Banner" class="banner-image">
    </div>

    <div class="container">
        <!-- 加入進度條 -->
        <div id="loadingBar" class="loading-bar">
            <div class="loading-progress"></div>
        </div>
    
        <!-- 搜尋區域 -->
        <div class="search-section">
            <div class="search-title">快速篩選隊伍(可複選)</div>
            <div class="team-filters">
                <div class="filter-row">
                    <button class="team-btn" data-team="逃生入口A">逃生入口A</button>
                    <button class="team-btn" data-team="酒空組">酒空組</button>
                    <button class="team-btn" data-team="逃生入口C">逃生入口C</button>
                    <button class="team-btn" data-team="Vivi朝酒晚舞">Vivi朝酒晚舞</button>
                </div>
                <div class="filter-row">
                    <button class="team-btn" data-team="海盜揪硬">海盜揪硬</button>
                    <button class="team-btn" data-team="人生揪難">人生揪難</button>
                    <button class="team-btn" data-team="Jack">Jack</button>
                    <button class="team-btn" data-team="醉販">醉販</button>
                </div>
            </div>
        </div>

        <!-- 提示文字 -->
        <div class="schedule-hint">提醒：點擊日期/場次可以查看先前比賽紀錄喔</div>

        <!-- 使用包裝器确保表格可滚动 -->
        <div class="content-wrapper">
            <!-- 賽程表格 - 使用固定寬度的表格布局 -->
            <table class="schedule-table" id="leagueTable">
                <thead>
                    <tr>
                        <th>日期</th>
                        <th>客隊</th>
                        <th>比分</th>
                        <th>主隊</th>
                    </tr>
                </thead>
                <tbody>
                    <!-- 比賽資料將由 JavaScript 動態載入 -->
                </tbody>
            </table>
        </div>
    </div>

    <!-- 引入配置和主腳本 -->
    <script src="../config/config.js"></script>
    <!-- 引入筛选功能专用脚本 (先加载) -->
    <script src="../js/filter.js?v=1.1"></script>
    <script src="../js/main.js"></script>
    
    <!-- 确保筛选功能初始化 -->
    <script>
        console.log('页面脚本加载完成，准备初始化筛选功能');
        // 延迟调用筛选函数初始化
        setTimeout(function() {
            console.log('延迟检查筛选按钮');
            const teamButtons = document.querySelectorAll('.team-btn');
            console.log('延迟后找到筛选按钮数量:', teamButtons.length);
            
            if (typeof initializeFilters === 'function') {
                console.log('找到initializeFilters函数，调用初始化');
                initializeFilters();
            } else {
                console.error('未找到initializeFilters函数');
            }
        }, 1000);
    </script>
</body>
</html>
