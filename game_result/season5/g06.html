<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>G06 - 酒空組 vs 人生揪難 | 逃脫聯賽第五屆</title>
    <link rel="stylesheet" href="../../styles/common/game_result.css">
    <link rel="icon" href="../../images/favicon.ico" type="image/x-icon">
    <meta name="description" content="第五屆逃脫聯賽 G06 酒空組 vs 人生揪難 比賽結果詳情">
</head>
<body>
    <div class="container">
        <!-- 比賽資訊區 -->
        <div class="match-info">
            <h2 class="match-date">2025/8/27 21:00</h2>
            <div class="venue-info">酒窩海盜聯盟</div>
            <div class="match-result">
                <div class="team away">
                    <div class="team-name">酒空組</div>
                    <div class="team-score">17</div>
                </div>
                <div class="score-divider">:</div>
                <div class="team home winner">
                    <div class="team-score">19</div>
                    <div class="team-name">人生揪難</div>
                </div>
            </div>
        </div>

        <!-- 計分詳情 -->
        <div class="score-details">
            <h3>計分詳情</h3>
            <table class="score-table">
                <tr>
                    <th></th>
                    <th>酒空組</th>
                    <th>人生揪難</th>
                </tr>
                <tr>
                    <td>比賽成績</td>
                    <td>12</td>
                    <td>18</td>
                </tr>
                <tr>
                    <td>勝方加分</td>
                    <td>0</td>
                    <td>1</td>
                </tr>
                <tr>
                    <td>飲酒加成</td>
                    <td>5</td>
                    <td>0</td>
                </tr>
                <tr>
                    <td class="total-row">最終總分</td>
                    <td class="final-score">17</td>
                    <td class="final-score winner">19</td>
                </tr>
            </table>
        </div>

        <!-- 比賽詳情 -->
        <div class="games-container">
            <!-- 個人賽 01 -->
            <div class="game-section">
                <h3>個人賽 01</h3>
                <p class="game-note">(黃底為先攻場次)</p>
                <table class="game-table">
                    <tr>
                        <th>賽局</th>
                        <th>客隊 (酒空組)</th>
                        <th>主隊 (人生揪難)</th>
                    </tr>
                    <tr>
                        <td class="game-type">SET1<br><span class="game-detail">501 (OI/MO)</span></td>
                        <td>范姜姐</td>
                        <td class="first-attack winner">
                            <div class="winner-icon"></div>
                            亮亮
                        </td>
                    </tr>
                    <tr>
                        <td class="game-type">SET2<br><span class="game-detail">501 (DI/DO)</span></td>
                        <td class="winner">
                            <div class="winner-icon"></div>
                            宓哥
                        </td>
                        <td class="first-attack">紅閎</td>
                    </tr>
                    <tr>
                        <td class="game-type">SET3<br><span class="game-detail">701 (OI/MO)</span></td>
                        <td>阿仁</td>
                        <td class="first-attack winner">
                            <div class="winner-icon"></div>
                            阿肥
                        </td>
                    </tr>
                    <tr>
                        <td class="game-type">SET4<br><span class="game-detail">701 (OI/MO, 25/50)</span></td>
                        <td class="winner">
                            <div class="winner-icon"></div>
                            慶文
                        </td>
                        <td class="first-attack">蘇仔</td>
                    </tr>
                    <tr>
                        <td class="game-type">SET5<br><span class="game-detail">三人賽 701<br>每人一鏢骰子賽</span></td>
                        <td class="first-attack">阿堯, 阿鴻, 酒空小宇</td>
                        <td class="winner">
                            <div class="winner-icon"></div>
                            克林, 亮亮, 小姜
                        </td>
                    </tr>
                </table>
            </div>

            <!-- Cricket Games -->
            <div class="game-section">
                <h3>Cricket Games</h3>
                <table class="game-table">
                    <tr>
                        <th>賽局</th>
                        <th>客隊 (酒空組)</th>
                        <th>主隊 (人生揪難)</th>
                    </tr>
                    <tr>
                        <td class="game-type">SET6<br><span class="game-detail">Cricket</span></td>
                        <td class="winner">
                            <div class="winner-icon"></div>
                            無名
                        </td>
                        <td class="first-attack">婠婠</td>
                    </tr>
                    <tr>
                        <td class="game-type">SET7<br><span class="game-detail">Cricket</span></td>
                        <td class="first-attack">酒空小宇</td>
                        <td class="winner">
                            <div class="winner-icon"></div>
                            克林
                        </td>
                    </tr>
                    <tr>
                        <td class="game-type">SET8<br><span class="game-detail">Random Cricket</span></td>
                        <td class="winner">
                            <div class="winner-icon"></div>
                            阿堯
                        </td>
                        <td class="first-attack">阿肥</td>
                    </tr>
                    <tr>
                        <td class="game-type">SET9<br><span class="game-detail">Random Cricket</span></td>
                        <td class="first-attack">阿鴻</td>
                        <td class="winner">
                            <div class="winner-icon"></div>
                            蘇仔
                        </td>
                    </tr>
                    <tr>
                        <td class="game-type">SET10<br><span class="game-detail">三人賽 Cricket<br>每人一鏢骰子賽</span></td>
                        <td>阿鴻, 阿仁, 無名</td>
                        <td class="first-attack winner">
                            <div class="winner-icon"></div>
                            阿廷, 蘇仔, 阿肥
                        </td>
                    </tr>
                </table>
            </div>

            <!-- 雙人賽 -->
            <div class="game-section">
                <h3>雙人賽</h3>
                <table class="game-table">
                    <tr>
                        <th>賽局</th>
                        <th>客隊 (酒空組)</th>
                        <th>主隊 (人生揪難)</th>
                    </tr>
                    <tr>
                        <td class="game-type">SET11<br><span class="game-detail">701 雙人賽</span></td>
                        <td class="first-attack">阿堯, 范姜姐</td>
                        <td class="winner">
                            <div class="winner-icon"></div>
                            蘇仔, 紅閎
                        </td>
                    </tr>
                    <tr>
                        <td class="game-type">SET12<br><span class="game-detail">701 雙人賽 FREEZE</span></td>
                        <td class="first-attack">宓哥, 阿鴻</td>
                        <td class="winner">
                            <div class="winner-icon"></div>
                            阿肥, 亮亮
                        </td>
                    </tr>
                    <tr>
                        <td class="game-type">SET13<br><span class="game-detail">Cricket 雙人賽</span></td>
                        <td class="first-attack winner">
                            <div class="winner-icon"></div>
                            阿仁, 慶文
                        </td>
                        <td>克林, 小姜</td>
                    </tr>
                    <tr>
                        <td class="game-type">SET14<br><span class="game-detail">Team Cricket</span></td>
                        <td class="first-attack winner">
                            <div class="winner-icon"></div>
                            無名, 酒空小宇
                        </td>
                        <td>阿廷, 婠婠</td>
                    </tr>
                </table>
            </div>

            <!-- 四人賽 -->
            <div class="game-section">
                <h3>四人賽</h3>
                <table class="game-table">
                    <tr>
                        <th>賽局</th>
                        <th>客隊 (酒空組)</th>
                        <th>主隊 (人生揪難)</th>
                    </tr>
                    <tr>
                        <td class="game-type">SET15<br><span class="game-detail">四人賽 1101</span></td>
                        <td class="first-attack winner">
                            <div class="winner-icon"></div>
                            阿堯, 無名, 阿仁, 宓哥
                        </td>
                        <td>蘇仔, 阿肥, 婠婠, 紅閎</td>
                    </tr>
                    <tr>
                        <td class="game-type">SET16<br><span class="game-detail">四人賽 Cricket</span></td>
                        <td class="first-attack">阿鴻, 酒空小宇, 慶文, 范姜姐</td>
                        <td class="winner">
                            <div class="winner-icon"></div>
                            阿廷, 亮亮, 克林, 小姜
                        </td>
                    </tr>
                </table>
            </div>
        </div>

        <!-- 選手統計區 -->
        <div class="player-stats">
            <h3>本場選手表現統計</h3>
            <div class="stats-grid">
                <div class="team-stats">
                    <h4>酒空組</h4>
                    <div class="player-list" id="awayStats"></div>
                </div>
                <div class="team-stats">
                    <h4>人生揪難</h4>
                    <div class="player-list" id="homeStats"></div>
                </div>
            </div>
        </div>

        <!-- 返回按鈕 -->
        <div class="navigation">
            <a href="../../pages/scheduleS5.html" class="btn btn-back">返回賽程</a>
            <a href="../../pages/rankS5.html" class="btn btn-rank">查看排名</a>
        </div>
    </div>

    <script>
        // G06 比賽數據
        const g06Matches = [
            {set: 1, type: '01', away: '范姜姐', home: '亮亮', firstAttack: 'home', winner: 'home'},
            {set: 2, type: '01', away: '宓哥', home: '紅閎', firstAttack: 'home', winner: 'away'},
            {set: 3, type: '01', away: '阿仁', home: '阿肥', firstAttack: 'home', winner: 'home'},
            {set: 4, type: '01', away: '慶文', home: '蘇仔', firstAttack: 'home', winner: 'away'},
            {set: 5, type: '01', away: ['阿堯','阿鴻','酒空小宇'], home: ['克林','亮亮','小姜'], firstAttack: 'away', winner: 'home'},
            {set: 6, type: 'CR', away: '無名', home: '婠婠', firstAttack: 'home', winner: 'away'},
            {set: 7, type: 'CR', away: '酒空小宇', home: '克林', firstAttack: 'away', winner: 'home'},
            {set: 8, type: 'CR', away: '阿堯', home: '阿肥', firstAttack: 'home', winner: 'away'},
            {set: 9, type: 'CR', away: '阿鴻', home: '蘇仔', firstAttack: 'away', winner: 'home'},
            {set: 10, type: 'CR', away: ['阿鴻','阿仁','無名'], home: ['阿廷','蘇仔','阿肥'], firstAttack: 'home', winner: 'home'},
            {set: 11, type: '01', away: ['阿堯','范姜姐'], home: ['蘇仔','紅閎'], firstAttack: 'away', winner: 'home'},
            {set: 12, type: '01', away: ['宓哥','阿鴻'], home: ['阿肥','亮亮'], firstAttack: 'away', winner: 'home'},
            {set: 13, type: 'CR', away: ['阿仁','慶文'], home: ['克林','小姜'], firstAttack: 'away', winner: 'away'},
            {set: 14, type: 'CR', away: ['無名','酒空小宇'], home: ['阿廷','婠婠'], firstAttack: 'away', winner: 'away'},
            {set: 15, type: '01', away: ['阿堯','無名','阿仁','宓哥'], home: ['蘇仔','阿肥','婠婠','紅閎'], firstAttack: 'away', winner: 'away'},
            {set: 16, type: 'CR', away: ['阿鴻','酒空小宇','慶文','范姜姐'], home: ['阿廷','亮亮','克林','小姜'], firstAttack: 'away', winner: 'home'}
        ];

        // 選手名單
        const awayPlayers = ['阿堯', '阿鴻', '阿仁', '宓哥', '慶文', '范姜姐', '無名', '酒空小宇'];
        const homePlayers = ['蘇仔', '阿肥', '婠婠', '紅閎', '阿廷', '亮亮', '克林', '小姜'];

        // 比賽基本資訊
        const matchInfo = {
            gameId: 'G06',
            date: '2025/8/27',
            venue: '酒窩海盜聯盟',
            awayTeam: '酒空組',
            homeTeam: '人生揪難',
            awayScore: 17,
            homeScore: 19,
            winner: 'home',
            drinkingBonus: {
                away: 5,
                home: 0
            }
        };

        // 計算選手統計
        function calculatePlayerStats(matches, players, isAway) {
            const stats = {};
            
            // 初始化統計
            players.forEach(player => {
                stats[player] = {
                    matches: 0,
                    wins: 0,
                    winRate: 0
                };
            });

            // 計算統計
            matches.forEach(match => {
                const playerNames = isAway ? 
                    (Array.isArray(match.away) ? match.away : [match.away]) :
                    (Array.isArray(match.home) ? match.home : [match.home]);
                
                const isWinner = (isAway && match.winner === 'away') || (!isAway && match.winner === 'home');
                
                playerNames.forEach(playerName => {
                    if (stats[playerName]) {
                        stats[playerName].matches++;
                        if (isWinner) {
                            stats[playerName].wins++;
                        }
                    }
                });
            });

            // 計算勝率
            Object.keys(stats).forEach(player => {
                if (stats[player].matches > 0) {
                    stats[player].winRate = Math.round((stats[player].wins / stats[player].matches) * 100);
                }
            });

            return stats;
        }

        // 顯示選手統計
        function displayPlayerStats() {
            const awayStats = calculatePlayerStats(g06Matches, awayPlayers, true);
            const homeStats = calculatePlayerStats(g06Matches, homePlayers, false);

            // 顯示客隊統計
            const awayStatsContainer = document.getElementById('awayStats');
            let awayHtml = '';
            Object.entries(awayStats).forEach(([player, stat]) => {
                awayHtml += `
                    <div class="player-stat">
                        <span class="player-name">${player}</span>
                        <span class="player-record">${stat.wins}勝${stat.matches - stat.wins}敗</span>
                        <span class="player-winrate">${stat.winRate}%</span>
                    </div>
                `;
            });
            awayStatsContainer.innerHTML = awayHtml;

            // 顯示主隊統計
            const homeStatsContainer = document.getElementById('homeStats');
            let homeHtml = '';
            Object.entries(homeStats).forEach(([player, stat]) => {
                homeHtml += `
                    <div class="player-stat">
                        <span class="player-name">${player}</span>
                        <span class="player-record">${stat.wins}勝${stat.matches - stat.wins}敗</span>
                        <span class="player-winrate">${stat.winRate}%</span>
                    </div>
                `;
            });
            homeStatsContainer.innerHTML = homeHtml;
        }

        // 頁面載入完成後執行
        document.addEventListener('DOMContentLoaded', function() {
            displayPlayerStats();
            
            // 設置頁面標題
            document.title = `${matchInfo.gameId} - ${matchInfo.awayTeam} vs ${matchInfo.homeTeam} | 逃脫聯賽第五屆`;
            
            // 控制台輸出比賽資訊（用於除錯）
            console.log('G06 Match Data:', matchInfo);
            console.log('G06 Matches:', g06Matches);
        });
    </script>
</body>
</html>
