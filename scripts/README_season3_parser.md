# Season 3 è³‡æ–™è§£æå™¨

é€™å€‹ Python è…³æœ¬ç”¨æ–¼è§£æ `game_result/season3/` ç›®éŒ„ä¸‹çš„æ‰€æœ‰ HTML æª”æ¡ˆï¼Œä¸¦ç”Ÿæˆå…©å€‹ JSON æª”æ¡ˆä¾› BigQuery ä½¿ç”¨ã€‚

## ğŸ“ è¼¸å‡ºæª”æ¡ˆ

### 1. season3_match_results.json (56ç­†)
æ¯å ´æ¯”è³½çš„ç¸½çµæœï¼ŒåŒ…å«ï¼š
- `game_id`: æ¯”è³½ç·¨è™Ÿ (G01-G56)
- `match_date`: æ¯”è³½æ—¥æœŸ
- `team1`, `team2`: å°æˆ°éšŠä¼
- `winner`, `loser`: å‹è² éšŠä¼
- `victory_bonus`: å‹å ´åŠ æˆ
- `drinking_bonus`: é£²é…’åŠ æˆ
- `total_games`: ç¸½å±€æ•¸
- `created_at`: å»ºç«‹æ™‚é–“

### 2. season3_game_details.json (é è¨ˆ896ç­†)
æ¯å ´æ¯”è³½çš„è©³ç´°å°æˆ°è¨˜éŒ„ï¼ŒåŒ…å«ï¼š
- `game_id`: æ¯”è³½ç·¨è™Ÿ
- `record_index`: è¨˜éŒ„ç´¢å¼•
- `player1`, `player2`: å°æˆ°é¸æ‰‹
- `game_type`: æ¯”è³½é¡å‹ (01/CR)
- `first_attack`: å…ˆå¾Œæ”»
- `winner`: è©²å±€å‹è€…
- `score`: æ¯”åˆ†
- `created_at`: å»ºç«‹æ™‚é–“

### 3. season3_statistics.json
çµ±è¨ˆå ±å‘Šï¼ŒåŒ…å«è§£æçµæœæ‘˜è¦

## ğŸš€ ä½¿ç”¨æ–¹æ³•

### æ–¹æ³•ä¸€ï¼šä½¿ç”¨åŸ·è¡Œè…³æœ¬ (æ¨è–¦)
```bash
cd scripts
./run_season3_parser.sh
```

### æ–¹æ³•äºŒï¼šæ‰‹å‹•åŸ·è¡Œ
```bash
cd scripts

# å®‰è£å¥—ä»¶
pip3 install -r requirements_parser.txt

# åŸ·è¡Œè§£æ
python3 parse_season3_data.py
```

## ğŸ“‹ å‰ç½®éœ€æ±‚

1. **Python 3.7+**
2. **å¿…è¦å¥—ä»¶**ï¼š
   - beautifulsoup4
   - lxml
   - html5lib

3. **æª”æ¡ˆçµæ§‹**ï¼š
   ```
   exit_league/
   â”œâ”€â”€ game_result/
   â”‚   â””â”€â”€ season3/
   â”‚       â”œâ”€â”€ g01.html
   â”‚       â”œâ”€â”€ g02.html
   â”‚       â””â”€â”€ ... (g01-g56)
   â””â”€â”€ scripts/
       â”œâ”€â”€ parse_season3_data.py
       â”œâ”€â”€ requirements_parser.txt
       â””â”€â”€ run_season3_parser.sh
   ```

## ğŸ”§ è§£æé‚è¼¯

### HTML è§£æç­–ç•¥
1. **ä½¿ç”¨ BeautifulSoup** è§£æ HTML çµæ§‹
2. **å¤šé‡è§£ææ¨¡å¼**ï¼š
   - è¡¨æ ¼æ ¼å¼è§£æ
   - æ–‡å­—æ¨¡å¼è§£æ
   - æ›¿ä»£æ ¼å¼è§£æ

### è³‡æ–™æå–æ–¹æ³•
- **éšŠä¼åç¨±**ï¼šå¾æ¨™é¡Œæˆ– vs æ ¼å¼ä¸­æå–
- **å‹è² çµæœ**ï¼šæœå°‹åŒ…å«ã€Œå‹ã€ã€Œæ•—ã€é—œéµå­—çš„å…ƒç´ 
- **é¸æ‰‹è³‡è¨Š**ï¼šå¾è¡¨æ ¼è¡Œæˆ–æ–‡å­—ä¸­æå–å°æˆ°è¨˜éŒ„
- **æ¯”è³½é¡å‹**ï¼šè­˜åˆ¥ 01 æˆ– CR æ¯”è³½
- **åŠ æˆè³‡è¨Š**ï¼šæœå°‹åŠ æˆç›¸é—œæ–‡å­—ä¸¦æå–æ•¸å­—

## ğŸ“Š è¼¸å‡ºç¯„ä¾‹

### æ¯”è³½çµæœç¯„ä¾‹
```json
{
  "game_id": "G01",
  "match_date": "2024/8/5",
  "team1": "é€ƒç”Ÿå…¥å£A",
  "team2": "VIVIå“ˆå“ˆéšŠ",
  "winner": "é€ƒç”Ÿå…¥å£A",
  "loser": "VIVIå“ˆå“ˆéšŠ",
  "victory_bonus": 3,
  "drinking_bonus": 0,
  "total_games": 16,
  "created_at": "2024-10-28T10:30:00"
}
```

### è©³ç´°è¨˜éŒ„ç¯„ä¾‹
```json
{
  "game_id": "G01",
  "record_index": 1,
  "player1": "å¼µä¸‰",
  "player2": "æå››",
  "game_type": "01",
  "first_attack": "å…ˆæ”»",
  "winner": "å¼µä¸‰",
  "score": "2-1",
  "created_at": "2024-10-28T10:30:00"
}
```

## ğŸ› æ•…éšœæ’é™¤

### å¸¸è¦‹å•é¡Œ

1. **æ‰¾ä¸åˆ° HTML æª”æ¡ˆ**
   - ç¢ºèª `game_result/season3/` ç›®éŒ„å­˜åœ¨
   - æª¢æŸ¥æª”æ¡ˆå‘½åæ˜¯å¦æ­£ç¢º (g01.html - g56.html)

2. **è§£æçµæœä¸å®Œæ•´**
   - HTML æ ¼å¼å¯èƒ½èˆ‡é æœŸä¸åŒ
   - æª¢æŸ¥æ—¥èªŒè¼¸å‡ºæ‰¾å‡ºå…·é«”éŒ¯èª¤

3. **å¥—ä»¶å®‰è£å¤±æ•—**
   ```bash
   pip3 install --upgrade pip
   pip3 install -r requirements_parser.txt
   ```

### é™¤éŒ¯æ¨¡å¼
ä¿®æ”¹è…³æœ¬ä¸­çš„æ—¥èªŒç´šåˆ¥ï¼š
```python
logging.basicConfig(level=logging.DEBUG)
```

## ğŸ”„ å¾ŒçºŒæ­¥é©Ÿ

1. **æª¢æŸ¥ç”Ÿæˆçš„ JSON æª”æ¡ˆ**
2. **é©—è­‰è³‡æ–™å®Œæ•´æ€§**
3. **ä¸Šå‚³è‡³ BigQuery**ï¼š
   ```bash
   # ä½¿ç”¨ä¹‹å‰å»ºç«‹çš„ BigQuery åŒ¯å…¥è…³æœ¬
   python sheets_to_bigquery.py
   ```

## ğŸ“ˆ æ“´å±•åŠŸèƒ½

- æ”¯æ´å…¶ä»–è³½å­£ (Season 4, Season 5)
- è‡ªå‹•åŒ–è³‡æ–™é©—è­‰
- èˆ‡ BigQuery ç›´æ¥æ•´åˆ
- å¢åŠ æ›´å¤šçµ±è¨ˆåˆ†æ

